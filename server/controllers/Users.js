const Users = require("../models/Users"); exports.createUsers = async (req, res) => {  try { const newUsers = await Users.create({gid: req.body.gid,username: req.body.username, }); res.status(201).json(newUsers); } catch (err) { console.log(err); res.status(500).json({ error: err.message }); } }; exports.readUsers = async (req, res) => { const page = parseInt(req.query.page) || 0; const limit = parseInt(req.query.limit) || 25; const offset = page * limit; try { const result = await Users.findAndCountAll({ limit, offset, order: [["createdAt", "DESC"]] }); res.json({ data: result.rows, total: result.count, page, limit }); } catch (err) { console.log(err); res.status(500).json({ error: err.message }); } }; exports.readUsersFromID = async (req, res) => { try { const result = await Users.findByPk(req.params.id); if (!result) { return res.status(404).json({ error: "Record not found" }); } res.json(result); } catch (err) { console.log(err); res.status(500).json({ error: err.message }); } }; exports.updateUsers = async (req, res) => { try { const [updated] = await Users.update({gid: req.body.gid,username: req.body.username, }, { where: { id: req.params.id }, returning: true }); if (updated === 0) { return res.status(404).json({ error: "Record not found" }); } const result = await Users.findByPk(req.params.id); res.json(result); } catch (err) { console.log(err); res.status(500).json({ error: err.message }); } }; exports.deleteUsers = async (req, res) => { try { const deleted = await Users.destroy({ where: { id: req.params.id } }); if (deleted === 0) { return res.status(404).json({ error: "Record not found" }); } res.json({ message: "Record deleted successfully" }); } catch (err) { console.log(err); res.status(500).json({ error: err.message }); } };