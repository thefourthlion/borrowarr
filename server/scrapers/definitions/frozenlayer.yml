id: frozenlayer
name: Frozen Layer
description: Frozen Layer is a SPANISH Public torrent site focused on ANIME
language: es-ES
type: public
links:
  - https://www.frozen-layer.com/
caps:
  categorymappings:
    - id: Anime
      cat: TV/Anime
      desc: anime
    - id: Manga
      cat: TV/Anime
      desc: manga
    - id: Dorama
      cat: TV/Anime
      desc: dorama
    - id: Videojuego
      cat: TV/Anime
      desc: videojuego
    - id: Bso
      cat: TV/Anime
      desc: BSO
    - id: Pv
      cat: TV/Anime
      desc: PV
    - id: Otros
      cat: TV/Anime
      desc: otros
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
search:
  paths:
    - path: >-
        {{ if .Keywords }}buscar/descargas/{{ .Config.category }}/{{ .Keywords }}?search=Buscar{{ else }}descargas{{ end
        }}
    - path: >-
        {{ if .Keywords }}buscar/descargas/{{ .Config.category }}/{{ .Keywords }}?search=Buscar&{{ else }}descargas?{{
        end }}page=2
  rows:
    selector: table#descargas > tbody > tr:has(td:has(a[href^="magnet:?"]))
  fields:
    category:
      text: '{{ if eq .Config.category "todos" }}Anime{{ else }}{{ .Config.category }}{{ end }}'
    title:
      selector: td.tit a
      filters:
        - name: re_replace
          args:
            - \/|\(|\)
            - ' '
        - name: re_replace
          args:
            - ([A-z]*) temporada
            - ''
        - name: re_replace
          args:
            - (?i)Sprimera|Ssegunda|Stercera
            - ''
        - name: re_replace
          args:
            - S([0-9]+) - Episodio ([0-9]+)
            - $2
        - name: re_replace
          args:
            - '- Episodio ([0-9]*)'
            - $1
        - name: append
          args: ' Spanish'
    details:
      selector: td.tit a
      attribute: href
    download:
      selector: td:nth-child(1) a[href$=".torrent"]
      attribute: href
    magnet:
      selector: td:nth-child(1) a[href^="magnet:?"]
      attribute: href
    date_day:
      optional: true
      selector: >-
        td.fecha:not(:contains("Jan:")):not(:contains("Feb")):not(:contains("Mar:")):not(:contains("Apr")):not(:contains("May:")):not(:contains("Jun")):not(:contains("Jul:")):not(:contains("Aug")):not(:contains("Sep:")):not(:contains("Oct")):not(:contains("Nov:")):not(:contains("Dec"))
      filters:
        - name: replace
          args:
            - d√≠as
            - days ago
        - name: timeago
    date_year:
      optional: true
      selector: td.fecha:not(:contains("d")):not(:contains("h")):not(:contains("m"))
      filters:
        - name: append
          args: ' +01:00'
        - name: dateparse
          args: dd MMM yy zzz
    date:
      text: '{{ if or .Result.date_year .Result.date_day }}{{ or .Result.date_year .Result.date_day }}{{ else }}now{{ end }}'
    size:
      selector: td:nth-child(6)
    seeders:
      selector: td:nth-child(7)
    leechers:
      selector: td:nth-child(8)
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
