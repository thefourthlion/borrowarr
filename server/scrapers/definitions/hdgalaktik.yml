id: hdgalaktik
name: HDGalaKtik
description: HDGalaKtik is a RUSSIAN Semi-Private tracker for MOVIES / TV / GENERAL
language: ru-RU
type: semi-private
links:
  - https://www.trackerpmr.com/
  - https://freetmd.com/
  - https://kinoradiomagia.tv/
caps:
  categorymappings:
    - id: 13
      cat: Movies
      desc: Фильмы (Movies)
    - id: 6
      cat: TV
      desc: Мультфильмы (Cartoons)
    - id: 10
      cat: Audio
      desc: Музыка (Music)
    - id: 26
      cat: PC
      desc: Программы (Programs)
    - id: 5
      cat: Console
      desc: Игры (Games)
    - id: 25
      cat: Other
      desc: Картинки (Pictures)
    - id: 11
      cat: TV
      desc: Сериалы (TV Series)
    - id: 12
      cat: TV/Anime
      desc: Аниме (Anime)
    - id: 16
      cat: Books
      desc: Книги (Books)
    - id: 18
      cat: Audio/Video
      desc: Клипы / Ролики (Clips / Trailers)
    - id: 22
      cat: TV
      desc: ТВ / Передачи (TV)
    - id: 27
      cat: PC/Mobile-Other
      desc: Игры - Мобила / КПК (Mobile)
    - id: 1
      cat: PC/ISO
      desc: Образы (ISO)
    - id: 4
      cat: Other
      desc: Другое (Other)
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
    movie-search:
      - q
    music-search:
      - q
    book-search:
      - q
search:
  paths:
    - path: browse.php
  rows:
    selector: table.table > tbody > tr.torcontduo
  fields:
    category:
      selector: a[href^="browse.php?cat="]
      attribute: href
      optional: true
      default: 4
      filters:
        - name: querystring
          args: cat
    title:
      selector: a[href^="details.php?id="]
      attribute: title
      filters:
        - name: regexp
          args: \'>(.+?)</div
        - name: htmldecode
        - name: re_replace
          args:
            - >-
              (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))[\s:]*(\d+(?:-\d+)?)\s*из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*[CС]езоны?.+?(\d+(?:-\d+)?)\s*из\s*(\w?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))?
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*[CС]езоны?.+?(\d+(?:-\d+)?)\s*(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))\s+из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(\d+(?:-\d+)?)\s*из\s*(\w?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))?
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(\d+(?:-\d+)?)\s*(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))\s+из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))[\s:]*(\d+(?:-\d+)?)
            - S$1E$2
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*[CС]езоны?.+?(\d+(?:-\d+)?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - S$1E$2
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(\d+(?:-\d+)?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - S$1E$2
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?)
            - S$1
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s+[CС]езоны?
            - S$1
        - name: re_replace
          args:
            - (?i)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))[\s:]*(\d+(?:-\d+)?)\s*из\s*(\w?)
            - E$1 of $2
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*из\s*(\w?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - E$1 of $2
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s+(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))\s+из\s*(\w?)
            - E$1 of $2
        - name: re_replace
          args:
            - (?i)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))[\s:]*(\d+(?:-\d+)?)
            - E$1
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s+(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - E$1
        - name: re_replace
          args:
            - (?i)\bFiles-х\b
            - Files-x
        - name: re_replace
          args:
            - (?i)\sот\s([\w\p{P}\p{S}]+)$
            - '-$1'
        - name: re_replace
          args:
            - \s\|\s(\w{4,})$
            - '-$1'
        - name: re_replace
          args:
            - (\([\p{IsCyrillic}\W]+\))|(^[\p{IsCyrillic}\W\d]+\/ )|([\p{IsCyrillic} \-]+,+)|([\p{IsCyrillic}]+)
            - '{{ if .Config.stripcyrillic }}{{ else }}$1$2$3$4{{ end }}'
        - name: re_replace
          args:
            - (?i)\bHDTV[-\s]?Rip\b
            - HDTV
        - name: re_replace
          args:
            - (?i)\bSAT[-\s]?Rip\b
            - HDTV
        - name: re_replace
          args:
            - (?i)\bWEB[-\s]?DL[-\s]?Rip\b
            - WEB-DL
        - name: re_replace
          args:
            - (?i)\bWEB\sRip\b
            - WEBRip
        - name: re_replace
          args:
            - (?i)\bWEB\sDL\b
            - WEB-DL
        - name: re_replace
          args:
            - '[\[\(\{<«][\s\W]*[\]\)\}>»]'
            - ''
        - name: re_replace
          args:
            - ^[\s&,\.!\?\+\-_\|\/':]+
            - ''
        - name: re_replace
          args:
            - (?i)^\(\s*([SE]\d+.*?)\s*\)[\s\/\|]*(.+)
            - $2 $1
        - name: append
          args: '{{ if .Config.addrussiantotitle }} RUS{{ else }}{{ end }}'
    details:
      selector: a[href^="details.php?id="]
      attribute: href
    download:
      selector: a[href^="details.php?id="]
      attribute: href
      filters:
        - name: replace
          args:
            - details
            - download
    poster:
      selector: img.s
      attribute: src
    imdbid:
      selector: a[href^="browse.php?imdb="]
      attribute: href
      filters:
        - name: querystring
          args: imdb
    size:
      selector: td:nth-child(4)
    seeders:
      selector: span[title="Раздают"]
    leechers:
      selector: span[title="Качают"]
    date_day:
      selector: a[href^="browse.php?date="]:contains("Сегодня"), a[href^="browse.php?date="]:contains("Вчера")
      optional: true
      filters:
        - name: regexp
          args: ((Вчера в|Сегодня в)( \d{2}:\d{2}))
        - name: replace
          args:
            - Сегодня в
            - Today
        - name: replace
          args:
            - Вчера в
            - Yesterday
        - name: fuzzytime
    date_year:
      selector: a[href^="browse.php?date="]:contains("/")
      optional: true
      filters:
        - name: regexp
          args: (\d{2}:\d{2} \d{2}/\d{2})
        - name: append
          args: ' +03:00'
        - name: dateparse
          args: HH:mm dd/MM zzz
    date:
      text: '{{ if or .Result.date_year .Result.date_day }}{{ or .Result.date_year .Result.date_day }}{{ else }}now{{ end }}'
    downloadvolumefactor:
      case:
        img[src="/pic/freedownload.gif"]: 0
        '*': 1
    uploadvolumefactor:
      text: 1
    minimumratio:
      text: 1
    description:
      selector: a[href*="?tag="]
      attribute: title
