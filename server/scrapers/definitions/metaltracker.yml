id: metaltracker
name: Metal Tracker
description: >-
  Metal Tracker is a Semi-Private Torrent Tracker dedicated to HEAVY METAL MUSIC. This definition is for the English
  site.
language: en-US
type: semi-private
links:
  - https://en.metal-tracker.com/
caps:
  categorymappings:
    - id: Books
      cat: Audio/Audiobook
      desc: Books
    - id: Video
      cat: Audio/Video
      desc: Videos
    - id: Music
      cat: Audio/MP3
      desc: Music
  modes:
    search:
      - q
    music-search:
      - q
      - album
      - artist
    book-search:
      - q
search:
  paths:
    - path: torrents/search.html
      method: post
  rows:
    selector: .smallalbum
  fields:
    title:
      selector: a h3
    poster:
      selector: .thumb a img
      attribute: src
    details:
      selector: .thumb a
      attribute: href
    download:
      selector: .center a[href^="/torrents/download/id/"]
      attribute: href
    date:
      text: now
    seeders:
      selector: .center font:nth-of-type(1)
    leechers:
      selector: .center font:nth-of-type(2)
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
    category:
      selector: .smallalbum
      remove: div.thumb, div.center, a
      case:
        ':contains("Type: Music")': Music
        ':contains("Type: Video")': Video
        ':contains("Type: Books")': Books
    size:
      selector: .smallalbum
      filters:
        - name: regexp
          args: Size:\s+([\w\d\.,]+ \w\w)
