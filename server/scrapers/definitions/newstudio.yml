id: newstudio
name: NewStudio
description: NewStudio is a RUSSIAN Public site for TV
language: ru-RU
type: public
links:
  - https://newstudio.tv/
caps:
  categorymappings:
    - id: 6
      cat: TV
      desc: TV series
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
search:
  paths:
    - path: tracker.php
    - path: tracker.php
      inputs:
        start: 50
  rows:
    selector: table.well > tbody > tr:has(a[href^="./viewtopic.php?t="])
    filters:
      - name: andmatch
  fields:
    category:
      text: 6
    title:
      selector: a[href^="./viewtopic.php?t="] > b
      filters:
        - name: re_replace
          args:
            - (?i)Сезон\s*(\d+).+Серия\s*(\d+)
            - S$1E$2
        - name: re_replace
          args:
            - (?i)Сезон\s*(\d+)
            - S$1
        - name: re_replace
          args:
            - (\([\p{IsCyrillic}\W]+\))|(^[\p{IsCyrillic}\W\d]+\/ )|([\p{IsCyrillic} \-]+,+)|([\p{IsCyrillic}]+)
            - '{{ if .Config.stripcyrillic }}{{ else }}$1$2$3$4{{ end }}'
        - name: re_replace
          args:
            - (?i)\bHDTV[-\s]?Rip\b
            - HDTV
        - name: re_replace
          args:
            - (?i)\bSAT[-\s]?Rip\b
            - HDTV
        - name: re_replace
          args:
            - (?i)\bWEB[-\s]?DL[-\s]?Rip\b
            - WEB-DL
        - name: re_replace
          args:
            - (?i)\bWEB\sRip\b
            - WEBRip
        - name: re_replace
          args:
            - (?i)\bWEB\sDL\b
            - WEB-DL
        - name: re_replace
          args:
            - '[\[\(\{<«][\s\W]*[\]\)\}>»]'
            - ''
        - name: re_replace
          args:
            - ^[\s&,\.!\?\+\-_\|\/':]+
            - ''
        - name: re_replace
          args:
            - (?i)^\(\s*([SE]\d+.*?)\s*\)[\s\/\|]*(.+)
            - $2 $1
        - name: append
          args: '{{ if .Config.addrussiantotitle }} RUS{{ else }}{{ end }}'
        - name: append
          args: '-NewStudio'
    details:
      selector: a[href^="./viewtopic.php?t="]
      attribute: href
    download:
      selector: a[href^="./download.php?id="]
      attribute: href
    poster:
      selector: td:nth-child(3) > a > img
      attribute: src
    size:
      selector: td:nth-child(5) > a
    date:
      selector: td:nth-child(6)
      filters:
        - name: re_replace
          args:
            - (Сегодня|Вчера|\s|,|-)+
            - ' '
        - name: re_replace
          args:
            - (Today|Yesterday|\s|,|-)+
            - ' '
        - name: replace
          args:
            - Янв
            - Jan
        - name: replace
          args:
            - Фев
            - Feb
        - name: replace
          args:
            - Мар
            - Mar
        - name: replace
          args:
            - Апр
            - Apr
        - name: replace
          args:
            - Май
            - May
        - name: replace
          args:
            - Июн
            - Jun
        - name: replace
          args:
            - Июл
            - Jul
        - name: replace
          args:
            - Авг
            - Aug
        - name: replace
          args:
            - Сен
            - Sep
        - name: replace
          args:
            - Окт
            - Oct
        - name: replace
          args:
            - Ноя
            - Nov
        - name: replace
          args:
            - Дек
            - Dec
        - name: append
          args: ':00 +03:00'
        - name: dateparse
          args: d MMM yy HH:mm:ss zzz
    seeders:
      text: 1
    leechers:
      text: 1
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
    description:
      selector: a[href^="./viewtopic.php?t="] > b
