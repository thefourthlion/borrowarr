id: rutor
name: RuTor
description: RuTor is a RUSSIAN Public site for MOVIES / TV / GENERAL
language: ru-RU
type: public
links:
  - https://rutor.info/
  - https://rutor.is/
  - http://6tor.org/
caps:
  categorymappings:
    - id: 1
      cat: Movies
      desc: Movies
    - id: 2
      cat: TV
      desc: TV
    - id: 3
      cat: Other
      desc: Other
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
      - imdbid
    movie-search:
      - q
      - imdbid
    music-search:
      - q
search:
  paths:
    - path: >-
        {{ if .Query.IMDBID }}search/0/0/010/{{ .Config.sort }}/{{ .Query.IMDBID }}{{ else }}{{ end }}{{ if .Keywords
        }}search/0/0/100/{{ .Config.sort }}/{{ .Keywords }}/{{ else }}{{ end }}{{ if or .Keywords .Query.IMDBID }}{{
        else }}/{{ end }}
  rows:
    selector: tr:has(td:has(a[href^="magnet:?xt="]))
  fields:
    category:
      text: 3
    title:
      selector: td:nth-of-type(2) a[href^="/torrent/"]
      filters:
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(?:[CС]ери[ияй]|Эпизод|Выпуски?)[\s:]*(\d+(?:-\d+)?)\s*из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*[CС]езоны?.+?(\d+(?:-\d+)?)\s*из\s*(\w?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))?
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*[CС]езоны?.+?(\d+(?:-\d+)?)\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?)\s+из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(\d+(?:-\d+)?)\s*из\s*(\w?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))?
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(\d+(?:-\d+)?)\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?)\s+из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (\d+(?:-\d+)?)[хx](\d+(?:-\d+)?)\s*из\s*(\w?)
            - S$1E$2 of $3
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(?:[CС]ери[ияй]|Эпизод|Выпуски?)[\s:]*(\d+(?:-\d+)?)
            - S$1E$2
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*[CС]езоны?.+?(\d+(?:-\d+)?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - S$1E$2
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?).+?(\d+(?:-\d+)?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - S$1E$2
        - name: re_replace
          args:
            - (?i)[CС]езоны?[\s:]*(\d+(?:-\d+)?)
            - S$1
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s+[CС]езоны?
            - S$1
        - name: re_replace
          args:
            - (?i)(?:[CС]ери[ияй]|Эпизод|Выпуски?)[\s:]*(\d+(?:-\d+)?)\s*из\s*(\w?)
            - E$1 of $2
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s*из\s*(\w?)(?:\s*(?:[CС]ери[ияй]|Эпизод|Выпуски?))
            - E$1 of $2
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s+(?:[CС]ери[ияй]|Эпизод|Выпуски?)\s+из\s*(\w?)
            - E$1 of $2
        - name: re_replace
          args:
            - (?i)(?:[CС]ери[ияй]|Эпизод|Выпуски?)[\s:]*(\d+(?:-\d+)?)
            - E$1
        - name: re_replace
          args:
            - (?i)(\d+(?:-\d+)?)\s+(?:[CС]ери[ияй]|Эпизод|Выпуски?)
            - E$1
        - name: re_replace
          args:
            - (?i)\bFiles-х\b
            - Files-x
        - name: re_replace
          args:
            - (?i)\s\|\sот\s([\w\p{P}\p{S}]+)$
            - '-$1'
        - name: re_replace
          args:
            - \s\|\s(\w{4,})$
            - '-$1'
        - name: re_replace
          args:
            - (?i)\sот\s([\w\p{P}\p{S}]+)$
            - '-$1'
        - name: re_replace
          args:
            - \s\|\s(\w{4,})$
            - '-$1'
        - name: re_replace
          args:
            - (\([\p{IsCyrillic}\W]+\))|(^[\p{IsCyrillic}\W\d]+\/ )|([\p{IsCyrillic} \-]+,+)|([\p{IsCyrillic}]+)
            - '{{ if .Config.stripcyrillic }}{{ else }}$1$2$3$4{{ end }}'
        - name: re_replace
          args:
            - (?i)\bHDTV[-\s]?Rip\b
            - HDTV
        - name: re_replace
          args:
            - (?i)\bSAT[-\s]?Rip\b
            - HDTV
        - name: re_replace
          args:
            - (?i)\bWEB[-\s]?DL[-\s]?Rip\b
            - WEB-DL
        - name: re_replace
          args:
            - (?i)\bWEB\sRip\b
            - WEBRip
        - name: re_replace
          args:
            - (?i)\bWEB\sDL\b
            - WEB-DL
        - name: re_replace
          args:
            - '[\[\(\{<«][\s\W]*[\]\)\}>»]'
            - ''
        - name: re_replace
          args:
            - ^[\s&,\.!\?\+\-_\|\/':]+
            - ''
        - name: append
          args: '{{ if .Config.addrussiantotitle }} RUS{{ else }}{{ end }}'
    details:
      selector: td:nth-of-type(2) a[href^="/torrent/"]
      attribute: href
    magnet:
      selector: td:nth-of-type(2) a[href^="magnet:?xt="]
      attribute: href
    date:
      selector: td:nth-of-type(1)
      filters:
        - name: re_replace
          args:
            - '[\s]+'
            - ' '
        - name: replace
          args:
            - Янв
            - Jan
        - name: replace
          args:
            - Фев
            - Feb
        - name: replace
          args:
            - Мар
            - Mar
        - name: replace
          args:
            - Апр
            - Apr
        - name: replace
          args:
            - Май
            - May
        - name: replace
          args:
            - Июн
            - Jun
        - name: replace
          args:
            - Июл
            - Jul
        - name: replace
          args:
            - Авг
            - Aug
        - name: replace
          args:
            - Сен
            - Sep
        - name: replace
          args:
            - Окт
            - Oct
        - name: replace
          args:
            - Ноя
            - Nov
        - name: replace
          args:
            - Дек
            - Dec
        - name: append
          args: ' 00:00:00 +03:00'
        - name: dateparse
          args: dd MMM yy HH:mm:ss zzz
    size:
      optional: true
      selector: td:contains(\00a0TB), td:contains(\00a0GB), td:contains(\00a0MB), td:contains(\00a0kB), td:contains(\00a0B)
    seeders:
      selector: td span.green
    leechers:
      selector: td span.red
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
    description:
      selector: td:nth-of-type(2) a[href^="/torrent/"]
