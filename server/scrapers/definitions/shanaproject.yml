id: shanaproject
name: Shana Project
description: Shana Project is a Public torrent site for ANIME
language: en-US
type: public
links:
  - https://www.shanaproject.com/
caps:
  categorymappings:
    - id: Anime
      cat: TV/Anime
      desc: Anime
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
search:
  paths:
    - path: search/
  rows:
    selector: div.grid_12 > div[id^="rel"]
  fields:
    category:
      text: Anime
    title:
      selector: div.release_leftover > div.release_text_contents
      filters:
        - name: re_replace
          args:
            - ^(\[.*\]) (.*)
            - $2 $1
        - name: re_replace
          args:
            - (?i)(.mkv)
            - ''
    details:
      selector: a
      attribute: href
    download:
      selector: a[href^="/download/"]
      attribute: href
    date_full:
      selector: div.release_20:contains(".m."):contains(":")
      optional: true
      filters:
        - name: replace
          args:
            - .
            - ''
        - name: replace
          args:
            - Sept
            - Sep
        - name: replace
          args:
            - July
            - Jul
        - name: replace
          args:
            - June
            - Jun
        - name: re_replace
          args:
            - April
            - Apr
        - name: re_replace
          args:
            - March
            - Mar
        - name: append
          args: ' +00:00'
        - name: dateparse
          args: MMM d, yyyy, h:mm tt zzz
    date_abbr:
      selector: div.release_20:contains(".m."):not(:contains(":"))
      optional: true
      filters:
        - name: replace
          args:
            - .
            - ''
        - name: replace
          args:
            - Sept
            - Sep
        - name: replace
          args:
            - July
            - Jul
        - name: replace
          args:
            - June
            - Jun
        - name: re_replace
          args:
            - April
            - Apr
        - name: re_replace
          args:
            - March
            - Mar
        - name: append
          args: ' +00:00'
        - name: dateparse
          args: MMM d, yyyy, h tt zzz
    date_noon:
      selector: div.release_20:contains(", noon")
      optional: true
      filters:
        - name: replace
          args:
            - .
            - ''
        - name: replace
          args:
            - Sept
            - Sep
        - name: replace
          args:
            - July
            - Jul
        - name: replace
          args:
            - June
            - Jun
        - name: re_replace
          args:
            - April
            - Apr
        - name: re_replace
          args:
            - March
            - Mar
        - name: re_replace
          args:
            - ' noon'
            - ' 12 pm'
        - name: append
          args: ' +00:00'
        - name: dateparse
          args: MMM d, yyyy, h tt zzz
    date:
      text: >-
        {{ if or .Result.date_full .Result.date_abbr .Result.date_noon }}{{ or .Result.date_full .Result.date_abbr
        .Result.date_noon }}{{ else }}now{{ end }}
    size:
      selector: div.release_size
    seeders:
      text: 1
    leechers:
      text: 1
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
