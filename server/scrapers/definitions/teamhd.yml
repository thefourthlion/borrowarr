id: teamhd
name: TeamHD
description: TeamHD is a RUSSIAN Private Torrent Tracker for HD MOVIES / TV
language: ru-RU
type: private
links:
  - https://teamhd.org/
caps:
  categorymappings:
    - id: 29
      cat: Movies/HD
      desc: Movies Фильмы
    - id: 25
      cat: TV/Anime
      desc: Cartoons Мультфильмы
    - id: 26
      cat: Audio/Lossless
      desc: Hi-Res Audio
    - id: 27
      cat: Other
      desc: Demo Демо
    - id: 28
      cat: TV/Documentary
      desc: Documentary Документальное кино
    - id: 30
      cat: Audio/Video
      desc: Music Video Музыкальное видео
    - id: 31
      cat: TV/Sport
      desc: Sport Спорт
    - id: 32
      cat: TV/HD
      desc: TV Show ТВ Шоу
    - id: 33
      cat: TV/HD
      desc: Soaps Сериалы
    - id: 34
      cat: TV/HD
      desc: Other
    - id: 35
      cat: Movies
      desc: Content w/o subs Контент без перевода
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
    movie-search:
      - q
    music-search:
      - q
search:
  paths:
    - path: browse
  rows:
    selector: table.browse > tbody > tr
  fields:
    download:
      selector: a[href^="download.php?id="]
      attribute: href
    title:
      selector: a[href^="/details/id"]
      filters:
        - name: re_replace
          args:
            - (\([\p{IsCyrillic}\W]+\))|(^[\p{IsCyrillic}\W\d]+\/ )|([\p{IsCyrillic} \-]+,+)|([\p{IsCyrillic}]+)
            - '{{ if .Config.stripcyrillic }}{{ else }}$1$2$3$4{{ end }}'
        - name: re_replace
          args:
            - (?i)Season (\d{2})
            - S$1
        - name: re_replace
          args:
            - (?i)Season (\d{1})
            - S0$1
        - name: re_replace
          args:
            - '[\[|\]]'
            - ''
    details:
      selector: a[href^="/details/id"]
      attribute: href
    category:
      selector: a[href*="/browse/cat"]
      attribute: href
      filters:
        - name: regexp
          args: (\d+)
    date:
      selector: td > div > small
      filters:
        - name: dateparse
          args: dd-MM-yyyy HH:mm
    seeders:
      selector: td:nth-child(4)
      filters:
        - name: split
          args:
            - '|'
            - 0
    leechers:
      selector: td:nth-child(4)
      filters:
        - name: split
          args:
            - '|'
            - 1
    grabs:
      selector: td:nth-child(5) strong
    size:
      selector: td:nth-child(5)
      remove: strong
    downloadvolumefactor:
      case:
        ':root:has(div.justify-content-center:contains("Включен фрилич до"))': 0
        a[href^="/details/id"][style="color:#f2b101"]: 0
        a[href^="/details/id"][style="color:#828b8b"]: 0.5
        '*': 1
    uploadvolumefactor:
      text: 1
    minimumratio:
      text: 1
    description:
      selector: a[href^="/details/id"]
