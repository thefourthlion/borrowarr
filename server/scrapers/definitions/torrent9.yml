id: torrent9
name: Torrent9
description: Torrent9 is a FRENCH Public site for MOVIES / TV / GENERAL
language: fr-FR
type: public
links:
  - https://www.torrent9.zone/
caps:
  categorymappings:
    - id: films
      cat: Movies
      desc: Movies
    - id: series
      cat: TV
      desc: TV
    - id: musique
      cat: Audio
      desc: Music
    - id: ebook
      cat: Books
      desc: Books
    - id: logiciels
      cat: PC
      desc: Software
    - id: jeux-pc
      cat: PC/Games
      desc: PC Games
    - id: other
      cat: Other
      desc: Other
  modes:
    search:
      - q
    tv-search:
      - q
      - season
      - ep
    movie-search:
      - q
    music-search:
      - q
    book-search:
      - q
search:
  paths:
    - path: '{{ if .Keywords }}search_torrent/{{ .Keywords }}{{ .Config.sort }}{{ else }}home/{{ end }}'
  rows:
    selector: table.table-striped > tbody > tr
    filters:
      - name: andmatch
  fields:
    category_optional:
      selector: td:nth-child(1) i
      optional: true
      case:
        i[class="fa fa-video-camera"]: films
        i[class="fa fa-tv"]: series
        i[class="fa fa-desktop"]: series
        i[class="fa fa-music"]: musique
        i[class="fa fa-gamepad"]: jeux-pc
        i[class="fa fa-laptop"]: logiciels
        i[class="fa fa-book"]: ebook
    category:
      text: '{{ if .Result.category_optional }}{{ .Result.category_optional }}{{ else }}other{{ end }}'
    title_default:
      selector: td:nth-child(1) a
    title_optional:
      selector: td:nth-child(1) a[title]
      attribute: title
      optional: true
    title_phase1:
      text: '{{ if .Result.title_optional }}{{ .Result.title_optional }}{{ else }}{{ .Result.title_default }}{{ end }}'
      filters:
        - name: re_replace
          args:
            - (?i)\b(FRENCH|MULTI|TRUEFRENCH|VOSTFR|SUBFRENCH)\b(.+?)(\b((19|20)\d{2})\b)$
            - $3 $1$2
    title_vostfr:
      text: '{{ .Result.title_phase1 }}'
      filters:
        - name: re_replace
          args:
            - (?i)\b(vostfr|subfrench)\b
            - ENGLISH
    title_phase2:
      text: '{{ if .Config.vostfr }}{{ .Result.title_vostfr }}{{ else }}{{ .Result.title_phase1 }}{{ end }}'
    title_multilang:
      text: '{{ .Result.title_phase2 }}'
      filters:
        - name: re_replace
          args:
            - (?i)\b(MULTI(?!.*(?:FRENCH|ENGLISH|VOSTFR)))\b
            - '{{ .Config.multilanguage }}'
    title:
      text: '{{ if .Config.multilang }}{{ .Result.title_multilang }}{{ else }}{{ .Result.title_phase2 }}{{ end }}'
    details:
      selector: td:nth-child(1) a
      attribute: href
    download:
      selector: td:nth-child(1) a
      attribute: href
    date:
      selector: td:nth-child(2):contains("/")
      optional: true
      default: now
      filters:
        - name: dateparse
          args: dd/MM/yyyy
    size:
      selector: '{{ if .Keywords }}td:nth-child(3){{ else }}td:nth-child(2){{ end }}'
      filters:
        - name: re_replace
          args:
            - (\w)o
            - $1B
    seeders:
      selector: '{{ if .Keywords }}td:nth-child(4){{ else }}td:nth-child(3){{ end }}'
      optional: true
      default: 0
    leechers:
      selector: '{{ if .Keywords }}td:nth-child(5){{ else }}td:nth-child(4){{ end }}'
      optional: true
      default: 0
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
download:
  selectors:
    - selector: a[href^="magnet:?"]
      attribute: href
    - selector: script:contains("magnet:?")
      filters:
        - name: regexp
          args: \s'(magnet:\?.+?)';
